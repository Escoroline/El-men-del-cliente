<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>COCINA | Sandwich Clandestino</title>
    <style>
        body { background: #080808; color: #ff8c00; font-family: 'Courier New', monospace; padding: 20px; }
        h1 { border-bottom: 2px solid #ff8c00; text-align: center; padding-bottom: 10px; }
        .pedido-card { border: 1px solid #333; background: #121212; padding: 20px; margin-bottom: 20px; border-radius: 10px; }
        .item-line { color: #fff; margin: 5px 0; border-bottom: 1px solid #222; padding-bottom: 5px; }
        .nota { color: #aaa; font-style: italic; font-size: 0.9em; }
        .btn-listo { background: #ff8c00; color: black; border: none; padding: 10px 20px; font-weight: bold; cursor: pointer; border-radius: 5px; margin-top: 15px; width: 100%; }
        .btn-listo:hover { background: #ffae42; }
    </style>
</head>
<body>
    <h1>ðŸ“Ÿ PEDIDOS RECIBIDOS</h1>
    <div id="contenedor-pedidos">Cargando pedidos...</div>

    <script>
        const urlDatabase = "https://sandwich-clandestinos-default-rtdb.firebaseio.com/pedidos.json";

        async function cargarPedidos() {
            try {
                const res = await fetch(urlDatabase);
                const datos = await res.json();
                const container = document.getElementById('contenedor-pedidos');
                container.innerHTML = "";

                if(!datos) {
                    container.innerHTML = "<p style='text-align:center; color:#666;'>Esperando pedidos nuevos...</p>";
                    return;
                }

                Object.keys(datos).forEach(id => {
                    const pedido = datos[id];
                    let itemsHTML = "";
                    pedido.items.forEach(it => {
                        itemsHTML += `
                            <div class="item-line">
                                <strong>â€¢ ${it.nombre}</strong><br>
                                <small>Extras: ${it.detalles}</small><br>
                                <span class="nota">${it.nota ? 'Nota: ' + it.nota : ''}</span>
                            </div>`;
                    });

                    container.innerHTML += `
                        <div class="pedido-card">
                            <div style="display:flex; justify-content:space-between">
                                <span>ORDEN #${pedido.id.toString().slice(-4)}</span>
                                <span>${pedido.hora}</span>
                            </div>
                            <hr style="border:0; border-top:1px solid #333">
                            ${itemsHTML}
                            <button class="btn-listo" onclick="completar('${id}')">MARCAR COMO ENTREGADO</button>
                        </div>
                    `;
                });
            } catch (e) { console.error(e); }
        }

        async function completar(id) {
            if(confirm("Â¿Pedido listo? Se borrarÃ¡ de la pantalla.")) {
                await fetch(`https://sandwich-clandestinos-default-rtdb.firebaseio.com/pedidos/${id}.json`, { method: 'DELETE' });
                cargarPedidos();
            }
        }

        setInterval(cargarPedidos, 5000);
        cargarPedidos();
    </script>
</body>
</html>
/cocina.html
